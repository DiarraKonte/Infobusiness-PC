(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2004],{91192:function(e,n,t){Promise.resolve().then(t.bind(t,54710))},54710:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var i=t(27573),r=t(71817);function o(e){let{children:n}=e;return(0,i.jsx)(r.hH,{children:n})}},25449:function(e){e.exports=function(e,n,t){return e==e&&(void 0!==t&&(e=e<=t?e:t),void 0!==n&&(e=e>=n?e:n)),e}},79884:function(e,n,t){var i=t(15428),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},15428:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},52221:function(e,n,t){var i=t(25449),r=t(97172);e.exports=function(e,n,t){return void 0===t&&(t=n,n=void 0),void 0!==t&&(t=(t=r(t))==t?t:0),void 0!==n&&(n=(n=r(n))==n?n:0),i(r(e),n,t)}},87590:function(e,n,t){var i=t(62579);e.exports=function(e,n){return i(e,n)}},97172:function(e,n,t){var i=t(79884),r=t(88873),o=t(58510),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=r(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var t=l.test(e);return t||u.test(e)?c(e.slice(2),t?2:8):s.test(e)?a:+e}},88146:function(e,n,t){"use strict";t.d(n,{default:function(){return r.a}});var i=t(16340),r=t.n(i)},79939:function(e){!function(){"use strict";var n={114:function(e){function n(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function t(e,n){for(var t,i="",r=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)t=e.charCodeAt(s);else if(47===t)break;else t=47;if(47===t){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",r=0):r=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),o=s,a=0;continue}}else if(2===i.length||1===i.length){i="",r=0,o=s,a=0;continue}}n&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+e.slice(o+1,s):i=e.slice(o+1,s),r=s-o-1;o=s,a=0}else 46===t&&-1!==a?++a:a=-1}return i}var i={resolve:function(){for(var e,i,r="",o=!1,a=arguments.length-1;a>=-1&&!o;a--)a>=0?i=arguments[a]:(void 0===e&&(e=""),i=e),n(i),0!==i.length&&(r=i+"/"+r,o=47===i.charCodeAt(0));return(r=t(r,!o),o)?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(n(e),0===e.length)return".";var i=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return(0!==(e=t(e,!i)).length||i||(e="."),e.length>0&&r&&(e+="/"),i)?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t||(e=i.resolve(e))===(t=i.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var o=e.length,a=o-r,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,u=a<l?a:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else a>u&&(47===e.charCodeAt(r+d)?c=d:0===d&&(c=0));break}var v=e.charCodeAt(r+d);if(v!==t.charCodeAt(s+d))break;47===v&&(c=d)}var g="";for(d=r+c+1;d<=o;++d)(d===o||47===e.charCodeAt(d))&&(0===g.length?g+="..":g+="/..");return g.length>0?g+t.slice(s+c):(s+=c,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!o){r=a;break}}else o=!1;return -1===r?i?"/":".":i&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');n(e);var i,r=0,o=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(i=e.length-1;i>=0;--i){var u=e.charCodeAt(i);if(47===u){if(!a){r=i+1;break}}else -1===l&&(a=!1,l=i+1),s>=0&&(u===t.charCodeAt(s)?-1==--s&&(o=i):(s=-1,o=l))}return r===o?o=l:-1===o&&(o=e.length),e.slice(r,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!a){r=i+1;break}}else -1===o&&(a=!1,o=i+1);return -1===o?"":e.slice(r,o)},extname:function(e){n(e);for(var t=-1,i=0,r=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47===l){if(!o){i=s+1;break}continue}-1===r&&(o=!1,r=s+1),46===l?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1)}return -1===t||-1===r||0===a||1===a&&t===r-1&&t===i+1?"":e.slice(t,r)},format:function(e){var n,t;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return n=e.dir||e.root,t=e.base||(e.name||"")+(e.ext||""),n?n===e.root?n+t:n+"/"+t:t},parse:function(e){n(e);var t,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var r=e.charCodeAt(0),o=47===r;o?(i.root="/",t=1):t=0;for(var a=-1,s=0,l=-1,u=!0,c=e.length-1,d=0;c>=t;--c){if(47===(r=e.charCodeAt(c))){if(!u){s=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===r?-1===a?a=c:1!==d&&(d=1):-1!==a&&(d=-1)}return -1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(0===s&&o?i.base=i.name=e.slice(1,l):i.base=i.name=e.slice(s,l)):(0===s&&o?(i.name=e.slice(1,a),i.base=e.slice(1,l)):(i.name=e.slice(s,a),i.base=e.slice(s,l)),i.ext=e.slice(a,l)),s>0?i.dir=e.slice(0,s-1):o&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},t={};function i(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={exports:{}},a=!0;try{n[e](o,o.exports,i),a=!1}finally{a&&delete t[e]}return o.exports}i.ab="//";var r=i(114);e.exports=r}()},28803:function(e,n,t){"use strict";t.d(n,{V0:function(){return k},bf:function(){return w},OD:function(){return L},m:function(){return x},$Y:function(){return P},$H:function(){return O},j1:function(){return E},f7:function(){return Q},Pe:function(){return S},j7:function(){return N},Rq:function(){return b},Cy:function(){return U},cE:function(){return y},CJ:function(){return j},_C:function(){return z},QR:function(){return C},y6:function(){return M},cc:function(){return T},gm:function(){return q},Ke:function(){return B},T$:function(){return F},fc:function(){return J},W:function(){return D},PD:function(){return A},Gk:function(){return H},gK:function(){return R},Ls:function(){return K},jl:function(){return W}});var i=t(3053),r=t(5362),o=t(27218),a=t(1812),s=t(98731),l=t(13262),u=t(7653);function c(e){let n=JSON.stringify(e);return(0,u.useMemo)(()=>e,[n])}var d=t(51432),v=t(45144),g=t(77930),_=t(50803),f=t(87590),p=t.n(f),m=t(81695),h=t(1146);let b=e=>{let n=(0,g.useQueryClient)(),{activeOrganization:t}=(0,o.t)(),i=null==t?void 0:t.uuid,[r,a]=(0,u.useReducer)(e=>e+1,0),s=c([l.I8,{orgUUID:i},{uuid:e}]),d=(0,u.useMemo)(()=>n.getQueryData(s),[n,s,e,r]);return(0,u.useEffect)(()=>n.getQueryCache().subscribe(e=>{"updated"===e.type&&"success"===e.action.type&&(0,_._x)({queryKey:s},e.query)&&a()}),[n,a,s]),{data:d}},y=e=>{let n=(0,g.useQueryClient)(),{activeOrganization:t}=(0,o.t)(),i=null==t?void 0:t.uuid,r=c([l.I8,{orgUUID:i},{uuid:e}]);return n.getQueryData(r)},k=30,w=1e4,C=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid,i=new URLSearchParams,{limit:a,offset:s,enabled:u,starred:c}=e;void 0!==a&&i.append("limit",a.toString()),void 0!==s&&i.append("offset",s.toString()),void 0!==c&&i.append("starred",c.toString());let d=i.toString();return d=d?"?".concat(d):"",(0,r.WE)("/api/organizations/".concat(null!=t?t:"","/chat_conversations").concat(d),{queryKey:[l.tv,{orgUUID:t},{limit:a,offset:s,starred:c}],staleTime:3e5,enabled:!!t&&u})},x=()=>{let{activeOrganization:e}=(0,o.t)(),n=null==e?void 0:e.uuid;return(0,r.WE)("/api/organizations/".concat(n,"/chat_conversations/count"),{queryKey:[l.Dn,{orgUUID:n}],staleTime:3e5,enabled:!!n})},S=()=>{let{activeOrganization:e}=(0,o.t)(),n=(0,r.OJ)();return(0,u.useCallback)(async t=>{let{limit:i,offset:r}=t,o=new URLSearchParams;void 0!==i&&o.append("limit",i.toString()),void 0!==r&&o.append("offset",r.toString());let a=o.toString();return a=a?"?".concat(a):"",(await n("/api/organizations/".concat(null==e?void 0:e.uuid,"/chat_conversations").concat(a))).json()},[null==e?void 0:e.uuid,n])},z=function(e){let{suppressError:n,enabled:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0},{activeOrganization:i}=(0,o.t)(),a=null==i?void 0:i.uuid,s=(0,u.useRef)([]),c=(0,g.useQueryClient)(),d="/api/organizations/".concat(null!=a?a:"","/chat_conversations/").concat(e,"?tree=True&rendering_mode=messages&render_all_tools=true"),v=(0,r.WE)(d,{queryKey:[l.I8,{orgUUID:a},{uuid:e}],staleTime:3e5,enabled:!!a&&!!e&&t,meta:{noToast:n}},n=>(c.invalidateQueries({queryKey:[l.Gj,{orgUUID:a,conversationUUID:e}]}),(0,h.fX)(n))),_=(0,u.useMemo)(()=>{if(!v.data)return s.current=[],s.current;let e=(0,h.kX)(v.data);if(e.length!==s.current.length||e.some((e,n)=>{var t;return e.uuid!==(null===(t=s.current[n])||void 0===t?void 0:t.uuid)}))return s.current=e,s.current;for(let n=0;n<e.length;n++)p()(e[n],s.current[n])||(s.current[n]=e[n]);return s.current},[v.data]);return{...v,currentPath:_}},T=e=>{let n=(0,g.useQueryClient)(),{activeOrganization:t}=(0,o.t)(),i=null==t?void 0:t.uuid;return(0,u.useCallback)(()=>{n.invalidateQueries({queryKey:[l.I8,{orgUUID:i},{uuid:e}]})},[n,i,e])},O=(e,n)=>{let{mutateAsync:t}=P(),i=(0,m.useRouter)(),r=n||(0,d.H)();return(0,u.useCallback)(function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{model:void 0,controlsOpen:!1},o={uuid:r,name:"",model:n.model};n.createMode&&(o.create_mode=n.createMode),n.projectUuid&&(o.project_uuid=n.projectUuid),t(o).then(()=>{let t="/chat/".concat(r).concat(n.controlsOpen?"?controls=1":"");i[e](t)}).catch(e=>{(0,v.Tb)(e)})},[t,i,e,r])},P=()=>{let{activeOrganization:e}=(0,o.t)(),n=null==e?void 0:e.uuid,t=(0,g.useQueryClient)(),i=[l.tv,{orgUUID:n}],a=e=>[l.ph,{orgUUID:n},{uuid:e}],s=e=>[l.I8,{orgUUID:n},{uuid:e}];return(0,r.uC)("/api/organizations/".concat(null!=n?n:"","/chat_conversations"),"POST",{enabled:!!n,async onMutate(e){let n=a(e.uuid);await Promise.all([t.cancelQueries({queryKey:i}),t.cancelQueries({queryKey:n})])},onSuccess:e=>{t.invalidateQueries({queryKey:[l.tv,{orgUUID:n}]}),t.setQueryData(s(e.uuid),n=>({...n||{},...e,chat_messages:(null==n?void 0:n.chat_messages)||[],messageByUuid:new Map,parentByChildUuid:new Map,childrenByParentUuid:new Map,selectedChildByUuid:new Map})),G(t,n)},onError(e,n){t.setQueryData(i,e=>null==e?void 0:e.filter(e=>e.uuid!==n.uuid)),t.setQueryData(a(n.uuid),void 0)}})},E=()=>{let{activeOrganization:e}=(0,o.t)(),n=null==e?void 0:e.uuid,t=(0,g.useQueryClient)();return(0,r.Ne)(e=>{let{uuid:t}=e;return"/api/organizations/".concat(null!=n?n:"","/chat_conversations/").concat(t)},"DELETE",(e,n)=>{let{uuid:t}=e;if(!n)return[];let i=n.findIndex(e=>e.uuid===t);if(!(i>-1))return n;{let e=[...n];return e.splice(i,1),e}},{enabled:!!n,queryKey:[l.tv,{orgUUID:n}],onSuccess:async(e,i)=>{let{uuid:r,projectUuid:o}=i;await t.invalidateQueries({queryKey:[l.I8,{orgUUID:n},{uuid:r}]}),o&&await t.invalidateQueries({queryKey:[l.lx,{orgUuid:n,projectUuid:o}]}),await G(t,n)}})},Q=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid,i=(0,g.useQueryClient)();return(0,r.uC)("/api/organizations/".concat(t,"/chat_conversations/delete_many"),"POST",{onSuccess:async n=>{await G(i,t),e&&e(n)}})},q=()=>{let{activeOrganization:e}=(0,o.t)(),n=null==e?void 0:e.uuid,t=null==e?void 0:e.capabilities.includes("raven");return(0,r.WE)("/api/organizations/".concat(n,"/shares"),{queryKey:[l.PB,{orgUUID:n}],enabled:!!n&&t,staleTime:3e5})},U=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid;return(0,r.WE)("/api/organizations/".concat(t,"/chat_conversations/").concat(e,"/latest"),{enabled:!!t&&!!e,queryKey:[l.Gj,{orgUUID:t,conversationUUID:e}],staleTime:0,meta:{noToast:!0}},e=>{let{snapshot:n,shareable:t,disabled_reason:i}=e;return{shareable:t,disabled_reason:i,snapshot:n?{...n,chat_messages:n.chat_messages.map(e=>(0,h.Dk)(e))}:null}})},j=e=>{let{activeOrganization:n,account:t}=(0,o.t)(),i=null==n?void 0:n.uuid,a=t&&i?"/api/organizations/".concat(i,"/chat_snapshots/").concat(e,"?rendering_mode=messages&render_all_tools=true"):"/api/chat_snapshots/".concat(e,"?rendering_mode=messages&render_all_tools=true");return(0,r.WE)(a,{retry:!1,refetchInterval:!1,enabled:!!e,staleTime:0,queryKey:[l.ld,{orgUUID:i,snapshotUUID:e}]},e=>({...e,chat_messages:e.chat_messages.map(e=>(0,h.Dk)(e))}))},A=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid,i=(0,g.useQueryClient)();return(0,r.uC)("/api/organizations/".concat(t,"/chat_conversations/").concat(e,"/share"),"POST",{onSuccess:()=>{i.invalidateQueries({queryKey:[l.Gj,{orgUUID:t,conversationUUID:e}]}),i.invalidateQueries({queryKey:[l.PB,{orgUUID:t}]}),i.invalidateQueries({queryKey:[l.VH,{orgUUID:t}]})}})},K=(e,n)=>{let{activeOrganization:t}=(0,o.t)(),i=null==t?void 0:t.uuid,a=(0,g.useQueryClient)();return(0,r.uC)("/api/organizations/".concat(i,"/share/").concat(n),"DELETE",{enabled:!!i&&!!n,meta:{errorMessage:"There was an error while trying to unshare the conversation. Please try again."},onSuccess:()=>{a.invalidateQueries({queryKey:[l.Gj,{orgUUID:i,conversationUUID:e}]}),a.invalidateQueries({queryKey:[l.PB,{orgUUID:i}]}),a.invalidateQueries({queryKey:[l.VH,{orgUUID:i}]})}})},M=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid;return(0,r.WE)("/api/organizations/".concat(t,"/artifact-versions/").concat(e),{retry:!1,refetchInterval:!1,enabled:!!e&&!!t,staleTime:0,queryKey:[l.qB,{artifactVersionUUID:e}]})},B=function(e,n,t){var s,u,c;let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{track:v}=(0,i.z$)(),_=null!==(u=null===(s=(0,a.T)())||void 0===s?void 0:s.preview_feature_uses_artifacts)&&void 0!==u&&u,{activeOrganization:f}=(0,o.t)(),p=null==f?void 0:f.uuid,m=(0,g.useQueryClient)(),h=[l.I8,{orgUUID:p},{uuid:e}];return(0,r.uC)("/api/organizations/".concat(null!=p?p:"","/chat_conversations/").concat(e,"/chat_messages/").concat(null!==(c=n.uuid)&&void 0!==c?c:"","/chat_feedback"),n.chat_feedback?"PUT":"POST",{enabled:!!p,meta:{errorMessage:"We could not save your feedback. Please try again later."},...d,onSuccess(){for(var i,r,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];v({event_key:"claudeai.conversation.feedback.sent",message_uuid:n.uuid,conversation_uuid:e,artifacts_enabled:_,conversationHasArtifacts:t,type:null===(i=n.chat_feedback)||void 0===i?void 0:i.type}),m.invalidateQueries({queryKey:h}),null===(r=d.onSuccess)||void 0===r||r.call(d,...a)}})},I=()=>{let e=(0,g.useQueryClient)(),{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid;return(0,u.useCallback)((n,i)=>{n&&(e.setQueryData([l.I8,{orgUUID:t},{uuid:n}],e=>e&&{...e,...i}),e.setQueriesData({queryKey:[l.tv,{orgUUID:t}]},e=>null==e?void 0:e.map(e=>e.uuid!==n?e:{...e,...i})))},[t,e])},D=e=>{let n=(0,g.useQueryClient)(),{activeOrganization:t}=(0,o.t)(),i=null==t?void 0:t.uuid,a=I();return(0,r.uC)("/api/organizations/".concat(i,"/chat_conversations/").concat(e),"PUT",{onMutate:t=>{var r;let{name:o}=t,s=n.getQueryData([l.I8,{orgUUID:i},{uuid:e}]);return a(e,{name:o}),{oldTitle:null!==(r=null==s?void 0:s.name)&&void 0!==r?r:""}},onError(n,t,i){i&&a(e,{name:i.oldTitle})}})},N=e=>{let n=I(),{activeOrganization:t}=(0,o.t)();return(0,r.uC)("/api/organizations/".concat(null==t?void 0:t.uuid,"/chat_conversations/").concat(e,"/title"),"POST",{onSuccess(t){let{title:i}=t;n(e,{name:null!=i?i:""})},meta:{noToast:!0}})};function L(e){var n,t;let i=(0,s.K)(e);return i+" "+e.attachments.map(e=>e.extracted_content).join(" ")+" "+((null===(n=e.content)||void 0===n?void 0:n.filter(e=>"tool_use"===e.type).map(e=>e.input?JSON.stringify(e.input):e.partial_json||"").join(" "))||"")+" "+((null===(t=e.content)||void 0===t?void 0:t.filter(e=>"tool_result"===e.type).flatMap(e=>e.content.filter(e=>"text"===e.type).map(e=>e.text)).join(" "))||"")}let R=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid;return(0,r.uC)("/api/organizations/".concat(t,"/chat_conversations/").concat(e,"/stop_response"),"POST")},J=()=>{let{activeOrganization:e}=(0,o.t)(),n=null==e?void 0:e.uuid;return(0,r.uC)(e=>{let{conversation_uuid:t}=e;return"/api/organizations/".concat(n,"/chat_conversations/").concat(t,"/tool_result")},"POST",{enabled:!!n,meta:{errorMessage:"We could not record the tool result. Please try again later."},transformVariables:e=>{let{conversation_uuid:n,...t}=e;return t}})},W=e=>{let{activeOrganization:n}=(0,o.t)(),t=null==n?void 0:n.uuid;return(0,r.uC)("/api/organizations/".concat(t,"/chat_conversations/").concat(e,"/current_leaf_message_uuid"),"PUT")},F=e=>{let{activeOrganization:n}=(0,o.t)(),t=(0,g.useQueryClient)(),i=null==n?void 0:n.uuid;return(0,r.Ne)("/api/organizations/".concat(i,"/chat_conversations/").concat(e,"?rendering_mode=raw"),"PUT",(e,n)=>n?{...n,settings:{...n.settings,...e.settings}}:void 0,{enabled:!!e,onSuccess:()=>{G(t,i)},queryKey:[l.I8,{orgUUID:i},{uuid:e}]})},G=async(e,n)=>{await Promise.all([e.invalidateQueries({queryKey:[l.tv,{orgUUID:n}]}),e.invalidateQueries({queryKey:[l.Dn,{orgUUID:n}]})])},H=e=>{let{activeOrganization:n}=(0,o.t)(),t=(0,g.useQueryClient)(),i=null==n?void 0:n.uuid;return(0,r.Ne)("/api/organizations/".concat(i,"/chat_conversations/").concat(e,"?rendering_mode=raw"),"PUT",(e,n)=>n?{...n,...e}:void 0,{onSuccess:()=>{G(t,i)},queryKey:[l.I8,{orgUUID:i},{uuid:e}]})}},1146:function(e,n,t){"use strict";t.d(n,{Dk:function(){return v},Ef:function(){return u},FC:function(){return a},Gg:function(){return c},HX:function(){return f},QC:function(){return l},fX:function(){return _},kX:function(){return m},mj:function(){return h},vv:function(){return p},w$:function(){return d},wZ:function(){return s}});var i=t(45144),r=t(52221),o=t.n(r);let a="new-assistant-message-uuid",s="new-human-message-uuid",l="00000000-0000-4000-8000-000000000000",u=e=>e!==a;function c(e,n){let t=e.get(n);if(void 0===t){let e=Error("Key not found: ".concat(n));throw(0,i.Tb)(e),e}return t}let d=(e,n)=>{let t=null!=n?n:e.current_leaf_message_uuid;if(!t)return e;for(;t!==l;){var i;let n=c(e.parentByChildUuid,t),r=null===(i=c(e.childrenByParentUuid,n))||void 0===i?void 0:i.indexOf(t);e.selectedChildByUuid.set(n,r),t=n}return{...e,current_leaf_message_uuid:n}},v=e=>e.content?e:{...e,content:[{type:"text",text:e.text||"",citations:[]}]},g=e=>{var n,t,i;let r=new Map,o=new Map,a=new Map,s=new Map,u=new Map;if(0===e.chat_messages.length)return{messageByUuid:o,parentByChildUuid:a,childrenByParentUuid:s,selectedChildByUuid:u};let c=e.chat_messages.map(v);for(let e of c)r.set(e.index,e),o.set(e.uuid,e);for(let e of c){let n=e.parent_message_uuid;if(!n){let i=e.index-1;for(;!n&&i>=0;)n=null===(t=r.get(i))||void 0===t?void 0:t.uuid,i--}n=null!=n?n:l,a.set(e.uuid,n),s.set(n,(null!==(i=s.get(n))&&void 0!==i?i:[]).concat(e.uuid)),u.set(n,0)}if(!(null===(n=s.get(l))||void 0===n?void 0:n[0]))throw Error("No root message found");return{chat_messages:c,messageByUuid:o,parentByChildUuid:a,childrenByParentUuid:s,selectedChildByUuid:u}},_=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=new Set;for(let n of e.chat_messages)"assistant"===n.sender&&n.parent_message_uuid&&t.add(n.parent_message_uuid);let i=e.chat_messages.filter(e=>"assistant"===e.sender||t.has(e.uuid)||void 0===e.parent_message_uuid||n),r={...e,chat_messages:i},o={...r,...g(r)};return o.current_leaf_message_uuid||d(o),d(o,r.current_leaf_message_uuid)},f=e=>{let n=Array.from(e.messageByUuid.values()).map(e=>e.index);return 0===n.length?-1:Math.max(...n)},p=(e,n)=>{for(let i of(e.chat_messages=e.chat_messages.concat(n),n)){var t;if(!i.parent_message_uuid)throw Error("Parent UUID required");let n=i.parent_message_uuid;e.messageByUuid.set(i.uuid,i),e.parentByChildUuid.set(i.uuid,n);let r=null!==(t=e.childrenByParentUuid.get(n))&&void 0!==t?t:[];r.push(i.uuid),e.childrenByParentUuid.set(n,r),e.selectedChildByUuid.set(n,r.length-1)}return d(e,n[n.length-1].uuid)},m=(e,n)=>{let t=[],i=null!=n?n:l;for(;e.childrenByParentUuid.has(i);){let n=c(e.childrenByParentUuid,i);if(0===n.length)break;let r=c(e.selectedChildByUuid,i),o=c(e.messageByUuid,n[r]);t.push({...o,parent_message_uuid:i,nOptions:n.length,selectedOption:r}),i=o.uuid}return t};function h(e,n,t){var i;let r=c(e.parentByChildUuid,n.uuid),a=c(e.childrenByParentUuid,r),s=o()((null!==(i=n.selectedOption)&&void 0!==i?i:0)+t,0,a.length-1);e.selectedChildByUuid.set(r,s);let l=m(e,r);return d(e,l[l.length-1].uuid)}},3053:function(e,n,t){"use strict";t.d(n,{YZ:function(){return m},q$:function(){return h},z$:function(){return p}});var i=t(30947),r=t(6385),o=t(87033),a=t(7653),s=t(77879),l=t(5362),u=t(8571),c=t(50862),d=t(40287),v=t(27218),g=t(91447);let _={snippets_command_used:{version:1},file_upload_too_large:{version:1},sse_interrupted:{version:1},snippets_suggestion_selected:{version:1},payment_modal_open:{version:1},pro_waitlist_requested:{version:1},payment_state_poll_for_invoice:{version:1},payment_state_poll_for_payment:{version:1},payment_state_poll_for_capability:{version:1},payment_state_payment_requires_confirmation:{version:1},payment_state_payment_failed:{version:1},payment_state_success:{version:1},payment_state_timed_out:{version:1},"onboarding.pubsec_system_use.started":{version:1},"onboarding.phone_verification.start":{version:1},"onboarding.phone_verification.sent_code":{version:1},"onboarding.phone_verification.invalid_code":{version:1},"onboarding.phone_verification.verified_code":{version:1},"onboarding.age_verification.start":{version:1},"onboarding.age_verification.complete":{version:1},"onboarding.name_input.started":{version:1},"onboarding.name_input.finished":{version:1},"onboarding.acceptable_use.started":{version:1},"onboarding.acceptable_use.finished":{version:1},"onboarding.disclaimers.started":{version:1},"onboarding.disclaimers.finished":{version:1},"onboarding.started":{version:1},"onboarding.completed":{version:1},"extended_onboarding.started":{version:1},"extended_onboarding.disclaimer.completed":{version:1},"extended_onboarding.name_input.completed":{version:1},"extended_onboarding.work_function.completed":{version:1},"extended_onboarding.drive_integration.started":{version:1},"extended_onboarding.drive_integration.skipped":{version:1},"extended_onboarding.drive_integration.completed":{version:1},"extended_onboarding.gmail_integration.started":{version:1},"extended_onboarding.gmail_integration.skipped":{version:1},"extended_onboarding.gmail_integration.completed":{version:1},"extended_onboarding.gcal_integration.started":{version:1},"extended_onboarding.gcal_integration.skipped":{version:1},"extended_onboarding.gcal_integration.completed":{version:1},"extended_onboarding.topics.completed":{version:1},"extended_onboarding.example_prompts.completed":{version:1},"extended_onboarding.completed":{version:1},"extended_onboarding.hear_about.completed":{version:1},"extended_onboarding.hear_about.source_selected":{version:1},"pro_subscription.upgraded_to_annual":{version:1},"pro_subscription.upgraded_to_max":{version:1},"max_subscription.downgraded_to_max":{version:1},"max_subscription.downgraded_to_pro":{version:1},"chat.conversation.first_conversation_created":{version:1},"chat.conversation.too_long_prompt:loaded":{version:1},"chat.conversation.too_long_prompt:accepted":{version:1},"chat.conversation.too_long_prompt:dismissed":{version:1},"chat.conversation.too_long_prompt_warning:loaded":{version:1},"chat.conversation.too_long_prompt_warning:accepted":{version:1},"chat.conversation.too_long_prompt_warning:dismissed":{version:1},"chat.share.button.clicked":{version:1},"chat.share.modal.share_button.clicked":{version:1},"chat.share.modal.unshare_button.clicked":{version:1},"chat.share.open_link.clicked":{version:1},"chat.share.copy_link.clicked":{version:1},"ts.eu_election_banner.shown":{version:1,data_team_tag:"ts"},"ts.banner.shown":{version:1,data_team_tag:"ts"},"billing.credit_card.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.completed":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire_manual.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.completed":{version:1,data_team_tag:"billing_funnel"},"console.feedback.opened":{version:1},"console.feedback.submitted":{version:1},"evals.revision.created":{version:1},"evals.show_prompt_preview.toggled":{version:1},"evals.show_golden_answers.toggled":{version:1},"evals.run_all.submitted":{version:1},"evals.run_all.stopped":{version:1},"evals.test_case.run.submitted":{version:1},"evals.test_case.run.completed":{version:1},"evals.test_case.run.failed":{version:1},"evals.test_case.create.submitted":{version:1},"evals.test_case.delete.submitted":{version:1},"evals.select_revision.clicked":{version:1},"evals.test_case.update_rating.submitted":{version:1},"evals.test_case.import.show_modal.clicked":{version:1},"evals.test_case.import.browse.clicked":{version:1},"evals.test_case.import.success":{version:1},"evals.comparison.add_button.clicked":{version:1},"evals.comparison.remove_button.clicked":{version:1},"evals.comparison.other_revision.selected":{version:1},"test_case_generator.generate.started":{version:1},"test_case_generator.edit_logic.clicked":{version:1},"metaprompter.modal.loaded":{version:2},"metaprompter.example.selected":{version:1},"metaprompter.generate.started":{version:1},"metaprompter.generate.stop.attempted":{version:1},"metaprompter.generate.finished":{version:1},"metaprompter.start_editing.clicked":{version:1},"onboarding.invite_accept_page.invite_accept.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.invite_reject.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.submitted":{version:1,data_team_tag:"onboarding_funnel"},"workbench.prompt.new":{version:1},"workbench.completion.started":{version:2},"workbench.completion.finished":{version:2},"workbench.completion_stream.started":{version:1},"workbench.completion_stream.finished":{version:1},"workbench.tab_selection.clicked":{version:1},"workbench.variables_pane.loaded":{version:1},"workbench.examples.pane.loaded":{version:1},"workbench.examples.example.added":{version:2},"workbench.examples.example.deleted":{version:1},"workbench.examples.converted_to_raw_text":{version:1},"workbench.code_modal.opened":{version:1},"workbench.code_modal.code_copied":{version:1},"claudeai.projects.list_view.switched":{version:1},"claudeai.artifacts.execution.error":{version:1},"claudeai.conversation.suggestion.applied":{version:1},"claudeai.conversation.recent.opened":{version:1},"claudeai.projects.activity.shared_conversation.opened":{version:1},"claudeai.projects.project_starter.clicked":{version:1},"claudeai.projects.chat_starter.clicked":{version:1},"claudeai.conversation.artifact.vscode_exported":{version:1},"claudeai.settings.preview_feature.toggled":{version:1},"claudeai.settings.preview_feature.opened":{version:1},"claudeai.support.opened":{version:1},"claudeai.get_help.clicked":{version:1},"claudeai.conversation.feedback.sent":{version:1},"claudeai.conversation.setting.toggled":{version:1},"claudeai.thinking_cell.clicked":{version:1},"ccos.chatsuggestion.clicked":{version:1},"ccos.chatsuggestions.loaded":{version:1},"ccos.chatsuggestions.feedback":{version:1},"styles.selector.clicked":{version:1},"styles.modal":{version:1},"styles.nux.create_clicked":{version:1},"styles.custom.create_clicked":{version:1},"styles.custom.describe_clicked":{version:1},"styles.custom.describe_selected":{version:1},"styles.selected":{version:1},"artifact.feedback.sentiment":{version:1},"artifact.feedback.note":{version:1},"artifact.share_button_clicked":{version:1},"artifact.publish_button_clicked":{version:1},"artifact.share.modal.share_button_clicked":{version:1},"artifact.publish.modal.publish_button_clicked":{version:1},"artifact.studio.remix":{version:1},"artifact.studio.view_full_chat":{version:1},"artifact.studio.copy_prompt":{version:1},"mcp.servers.listed":{version:1},"mcp.servers.connected":{version:1},"mcp.resources.listed":{version:1},"mcp.resources.read":{version:1},"mcp.prompts.listed":{version:1},"mcp.prompts.used":{version:1},"mcp.tools.listed":{version:1},"mcp.tools.called":{version:1},"mcp.sampling.requested":{version:1},"mcp.websocket.transport.connected":{version:1},"mcp.websocket.authfailure":{version:1},"mcp.websocket.transport.reconnected":{version:1},"harmony.file.saved":{version:1},"harmony.suggestion.accepted":{version:1},"harmony.suggestion.rejected":{version:1},"hfi.comparative_model.selected":{version:1},"hfi.comparative_model.selection_cleared":{version:1},"hfi.comparative_model.streaming.started":{version:1},"hfi.comparative_model.streaming.finished":{version:1},"hfi.comparative_model.feedback_bar.switch_response.clicked":{version:1},"hfi.comparative_model.feedback_bar.prefer_response.clicked":{version:1},"apps.download_button_clicked":{version:1},"apps.nudge_banner_shown":{version:1},"apps.nudge_banner_clicked":{version:1},"apps.harmony_directory_synced":{version:1},"console.onboarding.name_and_legal.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.name_and_legal.submitted":{version:1,data_team_tag:"onboarding_funnel"},"tengu.waitlist.update":{version:1},"tengu.waitlist.details":{version:1},"oauth.authorize.approved":{version:1},"oauth.authorize.denied":{version:1},"oauth.authorize.success":{version:1},"oauth.authorize.failure":{version:1},"console.onboarding.account_type.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.individual_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.organization_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.submitted":{version:1,data_team_tag:"onboarding_funnel"},"login.account.created":{version:1},"login.email.sending_magic_link":{version:1},"login.email.magic_link_sent":{version:1},"login.email.magic_link_send_error":{version:1},"login.email.verifying_magic_link":{version:1},"login.email.magic_link_success":{version:1},"login.email.magic_link_verification_error":{version:1},"login.email.sso_initiated":{version:1},"login.email.sso_success":{version:1},"login.email.sso_verifying_callback":{version:1},"login.email.sso_verification_error":{version:1},"login.email.verifying_code":{version:1},"login.email.code_verification_error":{version:1},"login.email.finished":{version:1},"login.google.started":{version:1},"login.google.error":{version:1},"login.google.verifying":{version:1},"login.google.verification_error":{version:1},"login.google.finished":{version:1},"landing.section.features.viewed":{version:1},"landing.section.pricing.viewed":{version:1},"spotlight.shown":{version:1},"spotlight.dismissed":{version:1},"spotlight.action_clicked":{version:1},"claudeai.conversation.citation_clicked":{version:1},"claudeai.in_chat_upsell.connect_gdrive.start":{version:1},"claudeai.in_chat_upsell.dismiss":{version:1},"claudeai.cardamom_prompts.category_displayed":{version:1},"claudeai.cardamom_prompts.prompt_displayed":{version:1},"claudeai.cardamom_prompts.prompt_used":{version:1},"artifactinlinefeedback.selection.clicked":{version:1},"claudeai.toast.shown":{version:1},"claudeai.toast.dismissed":{version:1},"claudeai.toast.cta_clicked":{version:1},"claudeai.invite_contest.clicked":{version:1},"claudeai.invite_contest.dismissed":{version:1}},f=["onboarding.started","extended_onboarding.started","onboarding.completed","chat.conversation.first_conversation_created","payment_state_success"],p=()=>{let{analytics:e}=(0,g.K)(),{preferences:n}=(0,c.C)(),t=(0,d.f)(),{value:i}=(0,o.FL)("log_segment_events"),{value:s}=(0,o.FL)("claude_ai_segment_enabled"),{value:l}=(0,o.FL)("send_email_to_segment"),{account:p,activeOrganization:m,isLoading:h}=(0,v.t)(),b=(0,u.Z)(),y=null==p?void 0:p.uuid,k=null==m?void 0:m.uuid,w=null==m?void 0:m.billing_type,C=null==p?void 0:p.email_address,x=!p,S=(0,a.useCallback)((o,a)=>{var u,c,d,v;if(h)return;let{event_key:g,...p}=o,m={account_uuid:null!==(d=null==a?void 0:a.uuid)&&void 0!==d?d:y,organization_uuid:k,billing_type:w,surface:b?"claude-ai":"console",..._[g],...p},S=f.includes(g),z={context:{traits:{email:l?null!==(v=null==a?void 0:a.email_address)&&void 0!==v?v:C:null,userAgent:null===(c=window)||void 0===c?void 0:null===(u=c.navigator)||void 0===u?void 0:u.userAgent,fbc:t.get(r.cn.FBCLID),gclid:t.get(r.cn.GOOGLE_GCL_AW)}},integrations:{"Facebook Pixel":S}};i&&console.log("[Segment Event] ".concat(g),m,z);let T=!a&&x;if(e&&s&&(b||!T)&&(!T||n.analytics))return e.track(g,m,z)},[e,t,y,k,w,C,x,b,h,i,s,l,n.analytics]);return(0,a.useMemo)(()=>({track:S}),[S])},m=(e,n,t,r)=>{let o=p(),{onSuccess:a,onError:s,...u}=r||{};return(0,l.uC)(n,t,{onSuccess(){for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];o.track({event_key:e,result:"success"}),null==a||a(...t)},onError(n){let t;for(var r=arguments.length,a=Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];n instanceof i.Hx&&(t=n.type),o.track({event_key:e,result:"failure",failure_reason:t}),null==s||s(n,...a)},...u})},h=e=>{let{eventKey:n,threshold:t=.5,freezeOnceVisible:i=!0}=e,{track:r}=p(),{ref:o,isIntersecting:l}=(0,s.S1)({threshold:t,freezeOnceVisible:i});return(0,a.useEffect)(()=>{l&&r({event_key:n})},[l,r,n]),o}},50862:function(e,n,t){"use strict";t.d(n,{ConsentProvider:function(){return _},C:function(){return f}});var i=t(27573),r=t(45144),o=t(7653),a=t(40287),s=t(94872),l=t(53500),u=t(6385),c=t(35919),d=t.n(c),v=t(95407);let g=(0,o.createContext)({showConsentBanner:!1,openConsentBanner:d(),preferences:v.iw,savePreferences:d()}),_=e=>{let{children:n,requiresExplicitConsent:t}=e,[c,d,_]=function(e,n){let t=(0,a.f)(),[i,s]=(0,o.useState)(()=>!!t.get(e)),[l,u]=(0,o.useState)(()=>{try{let i=t.get(e);return i?JSON.parse(i):n}catch(t){return(0,r.Tb)(t,{extra:{message:"Malformed JSON cookie",cookieKey:e}}),n}});return[l,(0,o.useCallback)(n=>{t.set(e,JSON.stringify(n)),u(n),s(!0)},[t,e]),i]}(u.cn.CONSENT_PREFERENCES,t?v.iw:v.DF),[f,p]=(0,o.useState)(t&&!_),m=(0,o.useCallback)(e=>{d(e),(0,s.HF)(e),p(!1),l.u.updateCategories(e)},[d,p]);return(0,i.jsx)(g.Provider,{value:{showConsentBanner:f,openConsentBanner:()=>p(!0),preferences:c,savePreferences:m},children:n})};function f(){return(0,o.useContext)(g)}},1812:function(e,n,t){"use strict";t.d(n,{I:function(){return s},T:function(){return a}});var i=t(27573),r=t(7653);let o=(0,r.createContext)(null),a=()=>{let e=(0,r.useContext)(o);return void 0===e?null:e},s=e=>{let{children:n,settings:t}=e;return(0,i.jsx)(o.Provider,{value:t,children:n})}},27895:function(e,n,t){"use strict";t.d(n,{ErrorsProvider:function(){return h},e:function(){return b},v:function(){return w}});var i=t(27573),r=t(35228),o=t(87033),a=t(97975),s=t.n(a),l=t(55854),u=t.n(l),c=t(78646),d=t.n(c),v=t(81695),g=t(7653),_=t(41270),f=t(27218),p=t(18013);let m=(0,g.createContext)(void 0);function h(e){let{children:n}=e,t=(0,g.useRef)(1),[r,o]=(0,g.useState)([]),a=(0,g.useCallback)(e=>{o(n=>n.filter(n=>n.id!==e))},[]),s=(0,g.useCallback)((e,n)=>{let i=t.current++;return o(n=>[...n,{id:i,message:e instanceof Error?e.message:e,toastType:"error"}]),n&&setTimeout(()=>a(i),n),i},[a]),l=(0,g.useCallback)((e,n)=>{let i=t.current++;return o(n=>[...n,{id:i,message:e,toastType:"success"}]),n&&setTimeout(()=>a(i),n),i},[a]),u=(0,g.useMemo)(()=>({toasts:r,addError:s,addSuccess:l,clearToast:a}),[r,s,l,a]);return(0,i.jsx)(m.Provider,{value:u,children:n})}function b(){let e=(0,g.useContext)(m);if(!e)throw Error("Must be called within ErrorsProvider");return e}let y=_.z.object({id:_.z.string().optional().nullable(),title:_.z.string().optional().nullable(),message:_.z.string().optional().nullable(),displayFrequencyHours:_.z.number().optional().nullable()}),k={};function w(){var e;let{id:n,title:t,message:i,displayFrequencyHours:a}=(0,o.xQ)("claude_system_message",k,y),{account:l}=(0,f.t)(),c=null!==(e=null==l?void 0:l.uuid)&&void 0!==e?e:"logged-out",_=(0,v.usePathname)(),[m,h]=(0,p.R)("dismissed-system-messages",{}),b=(0,g.useMemo)(()=>()=>h(e=>{let t=s()(e);return n&&d()(t,[c,n],Date.now()),t}),[h,c,n]);return(0,g.useMemo)(()=>{if(!l||(0,r.cG)(l,!0)||"/download"===_||!n)return!1;let e=u()(m,[c,n]);return!e||"boolean"==typeof e||!!a&&Date.now()-e>=36e5*a},[l,n,c,m,a,_])?{currentSystemMessageId:n,currentSystemMessageTitle:t,currentSystemMessageContent:i,dismissCurrentSystemMessage:b}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}},94872:function(e,n,t){"use strict";t.d(n,{HF:function(){return o},bq:function(){return r}});var i=t(45144);let r=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];try{"function"==typeof window.gtag&&gtag(e,...t)}catch(e){(0,i.Tb)(e)}},o=e=>{r("consent","update",a(e))},a=e=>({ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"})},91447:function(e,n,t){"use strict";t.d(n,{K:function(){return s}});var i=t(8571),r=t(87033),o=t(7653),a=t(53500);let s=()=>{let{segmentKey:e,segmentCdnHost:n,segmentApiHost:t}=(0,i.m)(),{value:s}=(0,r.FL)("requires_explicit_consent"),l=(0,o.useCallback)(()=>{a.u.reset()},[]);return{analytics:a.u.loadIfNecessary({segmentKey:e,segmentCdnHost:n,segmentApiHost:t,requiresExplicitConsent:s}),reset:l}}},18013:function(e,n,t){"use strict";t.d(n,{A:function(){return r},R:function(){return o}});var i=t(77879);function r(e,n){return(0,i.Xs)("SSS-".concat(e),n,{serializer:JSON.stringify,deserializer:JSON.parse})}function o(e,n){return(0,i._)("LSS-".concat(e),n,{serializer:JSON.stringify,deserializer:JSON.parse})}},35228:function(e,n,t){"use strict";t.d(n,{D_:function(){return a},c6:function(){return r},cG:function(){return s},kK:function(){return o},wJ:function(){return i}});let i=e=>{let{account:n,isClaudeDot:t}=e;return t?!1===n.settings.has_finished_claudeai_onboarding:!n.full_name||!n.display_name},r=(e,n)=>n&&!e.is_verified,o=(e,n)=>!!function(e,n){for(let t of e.invites)if(t.organization.capabilities&&t.organization.capabilities.includes(n))return t}(e,n?"raven":"api"),a=(e,n)=>!n&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,s=(e,n)=>i({account:e,isClaudeDot:n})||r(e,n)||o(e,n)||a(e,n)},66894:function(e,n,t){"use strict";t.d(n,{Ry:function(){return o},yG:function(){return i}}),t(68571);let i=()=>!1,r=()=>!1,o=()=>r()||i()},98731:function(e,n,t){"use strict";t.d(n,{K:function(){return i}});let i=e=>{let n="";if(e.content)for(let t of e.content)"text"===t.type&&(n+=t.text);return n}},51432:function(e,n,t){"use strict";t.d(n,{H:function(){return i}});let i=()=>void 0===crypto.randomUUID?"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,e=>{let n=parseInt(e);return(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)}):crypto.randomUUID()},58884:function(e,n,t){"use strict";async function i(e,n){let t;let i=e.getReader();for(;!(t=await i.read()).done;)n(t.value)}function r(){return{data:"",event:"",id:"",retry:void 0}}t.d(n,{a:function(){return a},L:function(){return l}});var o=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>n.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]]);return t};let a="text/event-stream",s="last-event-id";function l(e,n){var{signal:t,headers:l,onopen:c,onmessage:d,onclose:v,onerror:g,openWhenHidden:_,fetch:f}=n,p=o(n,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((n,o)=>{let m;let h=Object.assign({},l);function b(){m.abort(),document.hidden||S()}h.accept||(h.accept=a),"undefined"==typeof document||_||document.addEventListener("visibilitychange",b);let y=1e3,k=0;function w(){"undefined"==typeof document||_||document.removeEventListener("visibilitychange",b),clearTimeout(k),m.abort()}null==t||t.addEventListener("abort",()=>{w(),n()});let C=null!=f?f:fetch,x=null!=c?c:u;async function S(){var t,a;m=new AbortController;try{let t,o,l,u;let c=await C(e,Object.assign(Object.assign({},p),{headers:h,signal:m.signal}));await x(c),await i(c.body,(a=function(e,n,t){let i=r(),o=new TextDecoder;return function(a,s){if(0===a.length)null==e||e(i),i=r();else if(s>0){let e=o.decode(a.subarray(0,s)),r=s+(32===a[s+1]?2:1),l=o.decode(a.subarray(r));switch(e){case"data":i.data=i.data?i.data+"\n"+l:l;break;case"event":i.event=l;break;case"id":null==n||n(i.id=l);break;case"retry":let u=parseInt(l,10);isNaN(u)||null==t||t(i.retry=u)}}}}(d,e=>{e?h[s]=e:delete h[s]},e=>{y=e}),u=!1,function(e){void 0===t?(t=e,o=0,l=-1):t=function(e,n){let t=new Uint8Array(e.length+n.length);return t.set(e),t.set(n,e.length),t}(t,e);let n=t.length,i=0;for(;o<n;){u&&(10===t[o]&&(i=++o),u=!1);let e=-1;for(;o<n&&-1===e;++o)switch(t[o]){case 58:-1===l&&(l=o-i);break;case 13:u=!0;case 10:e=o}if(-1===e)break;a(t.subarray(i,e),l),i=o,l=-1}i===n?t=void 0:0!==i&&(t=t.subarray(i),o-=i)})),null==v||v(),w(),n()}catch(e){if(!m.signal.aborted)try{let n=null!==(t=null==g?void 0:g(e))&&void 0!==t?t:y;clearTimeout(k),k=setTimeout(S,n)}catch(e){w(),o(e)}}}S()})}function u(e){let n=e.headers.get("content-type");if(!(null==n?void 0:n.startsWith(a)))throw Error(`Expected content-type to be ${a}, Actual: ${n}`)}}},function(e){e.O(0,[5790,3279,6340,1270,7879,8183,6947,3840,6971,7265,3290,7218,1817,1293,1362,4856,1744],function(){return e(e.s=91192)}),_N_E=e.O()}]);